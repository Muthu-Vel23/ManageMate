{% extends "base.html" %}

{% block title %}Dashboard - ManagerMate{% endblock %}
{% block page_title %}Dashboard{% endblock %}

{% block content %}
<div class="dashboard-container">
    <!-- Motivational Quote Section -->
    <div class="quote-section">
        <div class="quote-card">
            <i class="fas fa-quote-left quote-icon"></i>
            <p class="quote-text">{{ quote }}</p>
        </div>
    </div>

    <!-- Stats Overview -->
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon projects">
                <i class="fas fa-project-diagram"></i>
            </div>
            <div class="stat-content">
                <h3>{{ stats.projects.completed }}/{{ stats.projects.total }}</h3>
                <p>Projects Completed</p>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon tasks">
                <i class="fas fa-tasks"></i>
            </div>
            <div class="stat-content">
                <h3>{{ stats.tasks.completed }}/{{ stats.tasks.total }}</h3>
                <p>Tasks Completed</p>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon goals">
                <i class="fas fa-bullseye"></i>
            </div>
            <div class="stat-content">
                <h3>{{ stats.goals.completed }}/{{ stats.goals.total }}</h3>
                <p>Goals Achieved</p>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon points">
                <i class="fas fa-star"></i>
            </div>
            <div class="stat-content">
                <h3>{{ stats.total_points }}</h3>
                <p>Total Points</p>
            </div>
        </div>
    </div>

    <!-- Focus Timer -->
    <div class="focus-timer-section">
        <div class="timer-card">
            <h3><i class="fas fa-clock"></i> Focus Timer</h3>
            <div class="timer-display" id="timer-display">25:00</div>
            <div class="timer-controls">
                <button onclick="startTimer()" class="btn btn-success">
                    <i class="fas fa-play"></i> Start
                </button>
                <button onclick="pauseTimer()" class="btn btn-warning">
                    <i class="fas fa-pause"></i> Pause
                </button>
                <button onclick="resetTimer()" class="btn btn-secondary">
                    <i class="fas fa-redo"></i> Reset
                </button>
            </div>
        </div>
    </div>

    <!-- Notifications -->
    {% if overdue_projects or overdue_tasks %}
    <div class="notification-slide">
        <div class="notification-content">
            <h4><i class="fas fa-exclamation-triangle"></i> Overdue Items</h4>
            {% if overdue_projects %}
                <p><strong>Projects:</strong> 
                {% for project in overdue_projects %}
                    {{ project.name }}{% if not loop.last %}, {% endif %}
                {% endfor %}
                </p>
            {% endif %}
            {% if overdue_tasks %}
                <p><strong>Tasks:</strong> 
                {% for task in overdue_tasks %}
                    {{ task.name }}{% if not loop.last %}, {% endif %}
                {% endfor %}
                </p>
            {% endif %}
        </div>
    </div>
    {% endif %}

    <!-- Quick Actions -->
    <div class="quick-actions">
        <h3>Quick Actions</h3>
        <div class="action-buttons">
            <a href="{{ url_for('projects') }}" class="action-btn">
                <i class="fas fa-plus"></i> Add Project
            </a>
            <a href="{{ url_for('tasks') }}" class="action-btn">
                <i class="fas fa-plus"></i> Add Task
            </a>
            <a href="{{ url_for('goals') }}" class="action-btn">
                <i class="fas fa-plus"></i> Add Goal
            </a>
        </div>
    </div>
</div>
{% endblock %}
